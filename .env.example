# ====================================================================================================
# TELEGRAM BOT CONFIGURATION
# ====================================================================================================
# REQUIRED: Core bot settings
# SECURITY WARNING: Keep BOT_TOKEN secret! Never commit real token to git!

BOT_TOKEN=your_bot_token_here                                                 # [REQUIRED] Get from @BotFather
ADMIN_IDS=123456789,987654321                                                 # [REQUIRED] Comma-separated admin user IDs


# ====================================================================================================
# DATABASE CONFIGURATION
# ====================================================================================================
# REQUIRED: PostgreSQL connection settings
# Note: When using docker-compose, POSTGRES_HOST should be the database container name

POSTGRES_USER=postgres                                                        # [REQUIRED] Database username
POSTGRES_PASSWORD=postgres                                                    # [REQUIRED] Database password (change in production!)
POSTGRES_HOST=remnawave-tg-shop-db                                            # [REQUIRED] Database host (container name for Docker)
POSTGRES_PORT=5432                                                            # [REQUIRED] Database port
POSTGRES_DB=postgres                                                          # [REQUIRED] Database name


# ====================================================================================================
# LOCALIZATION & DISPLAY
# ====================================================================================================
# REQUIRED: Language and currency settings

DEFAULT_LANGUAGE="ru"                                                         # [REQUIRED] Language: "ru" or "en"
DEFAULT_CURRENCY_SYMBOL="RUB"                                                 # [REQUIRED] Currency symbol (RUB, USD, EUR, etc.)


# ====================================================================================================
# EXTERNAL LINKS & UI
# ====================================================================================================
# REQUIRED/OPTIONAL: Links displayed to users

SUPPORT_LINK=https://t.me/your_support_link                                   # [REQUIRED] Support chat link
SERVER_STATUS_URL=https://status.yourdomain.tld/status/your_service           # [OPTIONAL] Server status page
TERMS_OF_SERVICE_URL=https://example.com/tos                                  # [OPTIONAL] Terms of service link
SUBSCRIPTION_MINI_APP_URL=                                                    # [OPTIONAL] Subscription mini-app URL
START_COMMAND_DESCRIPTION=                                                    # [OPTIONAL] Custom /start command description
DISABLE_WELCOME_MESSAGE=                                                      # [OPTIONAL] Set to "true" to disable welcome message
MY_DEVICES_SECTION_ENABLED=False                                              # [OPTIONAL] Enable "My Devices" in subscription menu
USER_HWID_DEVICE_LIMIT=0                                                      # [OPTIONAL] HWID/device limit (0 = unlimited)


# ====================================================================================================
# REQUIRED CHANNEL SUBSCRIPTION
# ====================================================================================================
# OPTIONAL: Force users to join a channel before using the bot

REQUIRED_CHANNEL_ID=                                                          # [OPTIONAL] Channel ID (e.g., -1001234567890)
REQUIRED_CHANNEL_LINK=https://t.me/your_channel                               # [OPTIONAL] Public channel link or invite


# ====================================================================================================
# WEBHOOK CONFIGURATION
# ====================================================================================================
# REQUIRED: Base URL for webhooks (Telegram and payment providers)
# Example: https://webhooks.yourdomain.tld or https://your-bot.fly.dev

WEBHOOK_BASE_URL=https://webhooks.yourdomain.tld                              # [REQUIRED] Public HTTPS URL for webhooks


# ====================================================================================================
# PAYMENT METHODS TOGGLES
# ====================================================================================================
# Enable/disable payment providers (true/false)

YOOKASSA_ENABLED=True                                                         # [OPTIONAL] Enable YooKassa
FREEKASSA_ENABLED=True                                                        # [OPTIONAL] Enable FreeKassa
STARS_ENABLED=True                                                            # [OPTIONAL] Enable Telegram Stars
TRIBUTE_ENABLED=True                                                          # [OPTIONAL] Enable Tribute
CRYPTOPAY_ENABLED=True                                                        # [OPTIONAL] Enable CryptoPay


# ====================================================================================================
# YOOKASSA PAYMENT GATEWAY
# ====================================================================================================
# SECURITY WARNING: Keep YOOKASSA_SECRET_KEY secret!
# Required only if YOOKASSA_ENABLED=True

YOOKASSA_SHOP_ID=your_shop_id                                                 # [REQUIRED] YooKassa shop ID
YOOKASSA_SECRET_KEY=your_secret_key                                           # [REQUIRED] YooKassa secret key
YOOKASSA_RETURN_URL=https://t.me/your_bot                                     # [OPTIONAL] Return URL after payment
YOOKASSA_DEFAULT_RECEIPT_EMAIL=your_email@example.com                         # [OPTIONAL] Receipt email
YOOKASSA_VAT_CODE=1                                                           # [OPTIONAL] VAT code (1 = without VAT)
YOOKASSA_AUTOPAYMENTS_ENABLED=False                                           # [OPTIONAL] Enable auto-renewal
YOOKASSA_AUTOPAYMENTS_REQUIRE_CARD_BINDING=True                               # [OPTIONAL] Force card binding for autopay


# ====================================================================================================
# FREEKASSA PAYMENT GATEWAY
# ====================================================================================================
# SECURITY WARNING: Keep FREEKASSA_API_KEY and FREEKASSA_SECOND_SECRET secret!
# Required only if FREEKASSA_ENABLED=True

FREEKASSA_MERCHANT_ID=your_shop_id                                            # [REQUIRED] FreeKassa merchant ID
FREEKASSA_API_KEY=your_api_key                                                # [REQUIRED] FreeKassa API key
FREEKASSA_SECOND_SECRET=your_second_secret                                    # [REQUIRED] Secret word #2
FREEKASSA_PAYMENT_IP=                                                         # [OPTIONAL] Public IP for FreeKassa
FREEKASSA_PAYMENT_METHOD_ID=44                                                # [OPTIONAL] Payment method ID


# ====================================================================================================
# CRYPTOPAY (CRYPTOBOT) PAYMENT GATEWAY
# ====================================================================================================
# SECURITY WARNING: Keep CRYPTOPAY_TOKEN secret!
# Required only if CRYPTOPAY_ENABLED=True

CRYPTOPAY_TOKEN=                                                              # [REQUIRED] CryptoPay API token
CRYPTOPAY_NETWORK=mainnet                                                     # [OPTIONAL] Network: mainnet or testnet
CRYPTOPAY_CURRENCY_TYPE=fiat                                                  # [OPTIONAL] Currency type: fiat or crypto
CRYPTOPAY_ASSET=RUB                                                           # [OPTIONAL] Asset (RUB, BTC, USDT, etc.)


# ====================================================================================================
# TRIBUTE PAYMENT GATEWAY
# ====================================================================================================
# SECURITY WARNING: Keep TRIBUTE_API_KEY secret!
# Required only if TRIBUTE_ENABLED=True

TRIBUTE_API_KEY=                                                              # [REQUIRED] Tribute API key
TRIBUTE_SKIP_NOTIFICATIONS=True                                               # [OPTIONAL] Skip renewal notifications
TRIBUTE_SKIP_CANCELLATION_NOTIFICATIONS=False                                 # [OPTIONAL] Skip cancellation notifications


# ====================================================================================================
# SUBSCRIPTION TARIFFS & PRICING
# ====================================================================================================
# Configure available subscription periods and pricing
# Set *_ENABLED=False to hide the tariff option

# 1 Month Subscription
1_MONTH_ENABLED=True                                                          # [OPTIONAL] Enable 1-month tariff
RUB_PRICE_1_MONTH=150                                                         # [REQUIRED if enabled] Price in RUB
STARS_PRICE_1_MONTH=0                                                         # [OPTIONAL] Price in Telegram Stars (0 = disabled)
TRIBUTE_LINK_1_MONTH=                                                         # [OPTIONAL] Tribute payment link

# 3 Months Subscription
3_MONTHS_ENABLED=True                                                         # [OPTIONAL] Enable 3-month tariff
RUB_PRICE_3_MONTHS=300                                                        # [REQUIRED if enabled] Price in RUB
STARS_PRICE_3_MONTHS=0                                                        # [OPTIONAL] Price in Telegram Stars (0 = disabled)
TRIBUTE_LINK_3_MONTHS=                                                        # [OPTIONAL] Tribute payment link

# 6 Months Subscription
6_MONTHS_ENABLED=True                                                         # [OPTIONAL] Enable 6-month tariff
RUB_PRICE_6_MONTHS=500                                                        # [REQUIRED if enabled] Price in RUB
STARS_PRICE_6_MONTHS=0                                                        # [OPTIONAL] Price in Telegram Stars (0 = disabled)
TRIBUTE_LINK_6_MONTHS=                                                        # [OPTIONAL] Tribute payment link

# 12 Months Subscription
12_MONTHS_ENABLED=True                                                        # [OPTIONAL] Enable 12-month tariff
RUB_PRICE_12_MONTHS=900                                                       # [REQUIRED if enabled] Price in RUB
STARS_PRICE_12_MONTHS=0                                                       # [OPTIONAL] Price in Telegram Stars (0 = disabled)
TRIBUTE_LINK_12_MONTHS=                                                       # [OPTIONAL] Tribute payment link


# ====================================================================================================
# SUBSCRIPTION NOTIFICATIONS
# ====================================================================================================
# Configure when to notify users about subscription expiration

SUBSCRIPTION_NOTIFICATIONS_ENABLED=True                                       # [OPTIONAL] Enable all notifications
SUBSCRIPTION_NOTIFY_ON_EXPIRE=True                                            # [OPTIONAL] Notify when subscription expires
SUBSCRIPTION_NOTIFY_AFTER_EXPIRE=True                                         # [OPTIONAL] Notify after expiration
SUBSCRIPTION_NOTIFY_DAYS_BEFORE=3                                             # [OPTIONAL] Days before expiration to notify


# ====================================================================================================
# REFERRAL SYSTEM
# ====================================================================================================
# Configure referral bonuses for inviting users and invited users

REFERRAL_ONE_BONUS_PER_REFEREE=False                                          # [OPTIONAL] Give bonus only once per referee
LEGACY_REFS=true                                                              # [OPTIONAL] Allow old ref_<tg_id> links

# Bonus days for the inviting user (referrer)
REFERRAL_BONUS_DAYS_1_MONTH=3                                                 # [OPTIONAL] Bonus days for 1-month purchase
REFERRAL_BONUS_DAYS_3_MONTHS=7                                                # [OPTIONAL] Bonus days for 3-month purchase
REFERRAL_BONUS_DAYS_6_MONTHS=15                                               # [OPTIONAL] Bonus days for 6-month purchase
REFERRAL_BONUS_DAYS_12_MONTHS=30                                              # [OPTIONAL] Bonus days for 12-month purchase

# Bonus days for the invited user (referee)
REFEREE_BONUS_DAYS_1_MONTH=1                                                  # [OPTIONAL] Bonus days for 1-month purchase
REFEREE_BONUS_DAYS_3_MONTHS=3                                                 # [OPTIONAL] Bonus days for 3-month purchase
REFEREE_BONUS_DAYS_6_MONTHS=7                                                 # [OPTIONAL] Bonus days for 6-month purchase
REFEREE_BONUS_DAYS_12_MONTHS=15                                               # [OPTIONAL] Bonus days for 12-month purchase


# ====================================================================================================
# PANEL API CONFIGURATION
# ====================================================================================================
# SECURITY WARNING: Keep PANEL_API_KEY and PANEL_WEBHOOK_SECRET secret!
# Required for VPN panel integration

PANEL_API_URL=http://your_panel_api_url/api                                   # [REQUIRED] Panel API base URL
PANEL_API_KEY=your_panel_api_key                                              # [REQUIRED] Panel API authentication key
PANEL_WEBHOOK_SECRET=                                                         # [OPTIONAL] Secret to verify panel webhooks


# ====================================================================================================
# USER TRAFFIC LIMITS
# ====================================================================================================
# Configure default traffic limits for all users (0 = unlimited)

USER_TRAFFIC_LIMIT_GB=0                                                       # [OPTIONAL] Traffic limit in GB (0 = unlimited)
USER_TRAFFIC_STRATEGY="NO_RESET"                                              # [OPTIONAL] Reset strategy: NO_RESET, WEEK, MONTH


# ====================================================================================================
# DEFAULT SQUADS (GROUPS)
# ====================================================================================================
# OPTIONAL: Auto-assign users to specific squads/groups

USER_SQUAD_UUIDS=uuid1,uuid2,uuid3                                            # [OPTIONAL] Comma-separated internal squad UUIDs
USER_EXTERNAL_SQUAD_UUID=                                                     # [OPTIONAL] External squad UUID for auto-linking


# ====================================================================================================
# TRIAL PERIOD SETTINGS
# ====================================================================================================
# Configure free trial for new users

TRIAL_ENABLED=True                                                            # [OPTIONAL] Enable trial period
TRIAL_DURATION_DAYS=5                                                         # [OPTIONAL] Trial duration in days
TRIAL_TRAFFIC_LIMIT_GB=0                                                      # [OPTIONAL] Trial traffic limit (0 = unlimited)
TRIAL_TRAFFIC_STRATEGY="NO_RESET"                                             # [OPTIONAL] Trial traffic reset: NO_RESET, WEEK, MONTH


# ====================================================================================================
# WEB SERVER SETTINGS
# ====================================================================================================
# Configure internal web server for handling webhooks

WEB_SERVER_HOST="0.0.0.0"                                                     # [OPTIONAL] Listen on all interfaces
WEB_SERVER_PORT=8080                                                          # [OPTIONAL] Web server port (default: 8080)


# ====================================================================================================
# REDIS CONFIGURATION (RECOMMENDED FOR PRODUCTION)
# ====================================================================================================
# Configure Redis for persistent FSM storage and caching
# Benefits: State persistence across restarts, horizontal scaling, better performance

REDIS_ENABLED=False                                                           # [OPTIONAL] Enable Redis (False = use MemoryStorage)
REDIS_HOST=localhost                                                          # [OPTIONAL] Redis server hostname
REDIS_PORT=6379                                                               # [OPTIONAL] Redis server port
REDIS_PASSWORD=                                                               # [OPTIONAL] Redis password (if auth enabled)
REDIS_FSM_DB=0                                                                # [OPTIONAL] Redis DB for FSM storage (default: 0)
REDIS_CACHE_DB=1                                                              # [OPTIONAL] Redis DB for caching (default: 1)
REDIS_FSM_STATE_TTL=3600                                                      # [OPTIONAL] FSM state TTL in seconds (1 hour)
REDIS_FSM_DATA_TTL=3600                                                       # [OPTIONAL] FSM data TTL in seconds (1 hour)


# ====================================================================================================
# RATE LIMITING (PROTECTION FROM SPAM AND DDOS)
# ====================================================================================================
# Configure rate limiting to protect bot from spam and abuse

RATE_LIMIT_ENABLED=True                                                       # [OPTIONAL] Enable rate limiting middleware
RATE_LIMIT_MAX_REQUESTS=20                                                    # [OPTIONAL] Max requests per time window
RATE_LIMIT_TIME_WINDOW=60                                                     # [OPTIONAL] Time window in seconds
RATE_LIMIT_BAN_DURATION=300                                                   # [OPTIONAL] Temporary ban duration (0 = no ban)
RATE_LIMIT_ADMIN_EXEMPT=True                                                  # [OPTIONAL] Exempt admins from rate limiting


# ====================================================================================================
# ADMIN PANEL & LOGGING
# ====================================================================================================
# Configure admin panel features and logging

# Pagination
LOGS_PAGE_SIZE=10                                                             # [OPTIONAL] Events per page in logs

# Admin Notifications
LOG_CHAT_ID=-1001234567890                                                    # [OPTIONAL] Telegram chat/group ID for notifications
LOG_THREAD_ID=                                                                # [OPTIONAL] Thread ID for supergroup messages

# What to log (true/false)
LOG_NEW_USERS=True                                                            # [OPTIONAL] Log new user registrations
LOG_PAYMENTS=True                                                             # [OPTIONAL] Log successful payments
LOG_PROMO_ACTIVATIONS=True                                                    # [OPTIONAL] Log promo code activations
LOG_TRIAL_ACTIVATIONS=True                                                    # [OPTIONAL] Log trial activations
LOG_SUSPICIOUS_ACTIVITY=True                                                  # [OPTIONAL] Log suspicious activities


# ====================================================================================================
# INLINE MODE THUMBNAILS
# ====================================================================================================
# ADVANCED: Thumbnail URLs for inline mode (don't change unless needed)

INLINE_REFERRAL_THUMBNAIL_URL=https://cdn-icons-png.flaticon.com/512/1077/1077114.png
INLINE_USER_STATS_THUMBNAIL_URL=https://cdn-icons-png.flaticon.com/512/681/681494.png
INLINE_FINANCIAL_STATS_THUMBNAIL_URL=https://cdn-icons-png.flaticon.com/512/2769/2769339.png
INLINE_SYSTEM_STATS_THUMBNAIL_URL=https://cdn-icons-png.flaticon.com/512/2920/2920277.png
